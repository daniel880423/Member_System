def homework_4(Str):
    ll = len(Str)
    if ll<1000:
        ans = isPalindrom_short(Str)
    if ll>=1000:
        n = ll//2
        i = n - 1
        if ll%2 ==0:#偶數        
            j = n
        else:#奇數
            j = n + 1
        #從中心開始擴散確認是否為回文
        ans = isPalindrom_long(Str,i,j)

    return ans

def isPalindrom_short(Str):
    if len(Str) <2:
        return True
    if Str[0]!=Str[-1]:
        return False
    return isPalindrom_short(Str[1:-1])

def isPalindrom_long(Str,i,j):
    if i >500:
        i=i-500
        j=j+500
           
    if i <500 and i>100:
        i=i-100
        j=j+100
    ss = Str[i:j+1]
    if ss!=ss[::-1]:
        return False       
    if i ==0:
        return True
    s = Str[i:j+1]
    if s[0]!=s[-1]:#判斷字首字尾是否相同
        return False
    return isPalindrom_long(Str,i-1,j+1)








if __name__ == '__main__':
    Str = "IV0kelfuprNpf9shyozRjxyz18ckeCtmxowo27eUnsudqtbRt36owdwtsRkju45asnuBnhmxs54djZzqdrvrrY63saoiujzFem72hsrzmSfkub81rxdFvwxkwp90cEszkpyppUq99mpynnmPggz108yrbbWzlvgn117oyLyfdnwlgP126fggcapgJil135nlrnsCgigr144wzgKqpvzih153sOniausgnPe162rpukceXezt171wmmqQrikbc180mhNuesleqrJ189yvjrmalEsr198mqbklHzjmw207igtExxukae216iIdbywrpxMl225nxdbhrCmfy234uwupUgpiyk243eyWejklqutU252bzcvqvbAua261ytsjmGtlzk270annKswknrd279gLhldyyqoXl288hafjdjVlno297kffdEhbbpd306lwPargmhfpA315gshmqvqIjq324swnpsJuexj333bbkGonljap342uNhebnrbsTj351swppzsZlmi360ysaeHjrdsj369piHyrkesjaL378rpfcbdzDul387qgrhfWmwen396yqyIkkbflw405lRkhwaslcRi414cqrjcvPzoi423nypwYcxsgy432kjJeybwukaM441paorumdAgr450itomaZkixu459iftWmspgtl468bNhjdoqyiAc477gqoexaXsqo486xgkeZbgiay495xrHoncyemcC504ejugijpAtm513qpiadJkuxi522troXzzgdwr531oClrmjxstTc540jmhzenRmic549xsepZyvsew558btXfaaqkkiC567fxcmnacQpe576uqnxzEvyga585cinRvffukl594pWxwemnklDa603ofrtsdAtyj612xjgnOddmnk621qbItlgdituS630trdjmnkSjz639xnkudKcikb648tcwDffsdni657sJwabggtkRe666nxjrjqJjrl675qmotOgdkfg684egTtktfnolR693qrinvjhBrf702vvfcjMpieg711ljgUsnyems720rRukhcdjfKn729czewjkJabg738kehxNavyid747bxFoncbubyD756tqcexhnJta765aogfxDyhkx774auaLtpvipw783yMfaqfjdsDd792nfuhyeXjbv801creeGjhmcf810kxWrqrlsnsE819shxcokwKlb828vvvhrTqhmj837eczXsasdmk846tXvjsavvnKy855okiupjSxoe864fxxsEzdpfm873dtJvmrlwrdI882czhvgenNcc891udfvoZbivs900txnWzsvoqz909zWcjcrotjTd918npsqriYbtf927ukweVuozvk936wcUvwkpihnH945bxwechlXcp954wdfkcTotar963accMomnfbn972hWtespgzpDz981gjfohaUfem990moffTccpfm999ufOfndodemE1008ufsmatmFdq1017eqpipDmvps1026jvhHpjxzom1035aGdzgsqifQy1044rjmanaSduz1053aaztFtigxy1062bmEvyglsigO1071hjfvyviAol1080sdjhvIhyyf1089olbMgbtery1098fFvmuemvmFo1107fpjbvkPrst1116cmbmXwiktd1125elPyrooyjkP1134cicleeyVeo1143zpblmItjih1152mdsKtuhskx1161pWqonsmajJb1170frdkclDvou1179hxlxRksnfb1188taDsgkqlkoY1197gnihbdhVub1206xlecqNjxuc1215qprPvpxfpz1224qJhehmrkpIo1233xzjkxxTpee1242rewnMsyfgi1251klWivfiwwtL1260iacdsnbYsl1269yxfzjNpzie1278epaSaxrfwr1287qJhjzfhncPl1296iondntLwbp1305njkuLndvgi1314ndTorcpeudN1323hunccxiOnl1332ghbnvZquwe1341yyfTcwhcsk1350hSdfjkjldTg1359qpcvkuFksb1368ruqwXprnlf1377ewOhznsxrqX1386yqurgkbCmm1395eyydkPpegc1404vliHmynnqv1413uItporfeiUz1422vdtvluUxsc1431cxfjGfahbs1440doPpwupwixE1449keqskamWkl1458ubgbdXfsvs1467yomOclbnxt1476xFzwsiqcdMk1485cqpkzcCmcy1494mtjqEcdybv1503mfNpciphfxN1512lxqteacFal1521pgxyzCxeea1530fobUkchfhj1539nNbiksggsVc1548cwqymiWwzd1557xkczSvmvpu1566pjVyrcrfcoZ1575xncjyztPrr1584djtbbXddgc1593arfXwjpfbq1602cXpmspxrtUz1611gzcltfGpob1620xafjWimhjq1629xdYgyddpqiW1638muytrvdQnw1647epnqaRtnsr1656ealZgizele1665oDclnpibhZg1674icwauaEbte1683otdbSysudr1692qwGydenbsnD1701kjaaalvFqc1710yavggYlhnc1719sdqSltmtru1728fSouqyjhhZc1737rhjcdjCroa1746wsqsIxjowc1755bdGfyyvnvoC1764idccgahVju1773bdoewVtggh1782szrBxjmhwe1791cMnwlqbylZr1800ztxjelQzsi1809fwzwQwqblk1818ffSrgupzepX1827ivsbxmyPrz1836mpbupJpxsb1845ynmZyjmgiz1854kFtoplqloRq1863besrsnQjcw1872dfjyFtgqzl1881dcVvweffceX1890evfucvfMnl1899zjakrAtosz1908zquRpisvzx1917tRftdchiwSq1926upgwecAlvh1935naziAfwduo1944ggNvyjwrefW1953bntybrmNzd1962bzzfwUyqxt1971yekTdchksp1980iOnsqpjsdXq1989iknitkIlpq1998lnafGjrvnn2007hsRzmfnmnjL2016wmlzhnqVfr2025xuseiOyeae2034egdCblukjn2043aYviuaevhXh2052yhvhihRkxr2061gskjAzobtq2070zcMynmptifR2079xjyekqkRli2088ttmvjDnmlq2097orzWnxlhsa2106iTcrpjkljLc2115izhtjqLdwz2124mgbpZecqzz2133quSakkukfgT2142xhwkpwdXxm2151ckxemOwfaw2160ofjVnohkpi2169zKmwwokrdZv2178saztloPmfd2187jcfoBztnnd2196ddFqilwgzpY2205febbjsnCym2214kqipvYngky2223yrmZazvukt2232sBs2322tkuvzaZmry3222ykgnYvpiqk4122myCnsjbbef5022YpzgwliqFdd6912dnntzBofcj7812dfmPoltzas8712vZdrkowwmKz9612ipkhonVjfo0612wafwOmexkc1512mxXdwpkwhx2412TgfkukkaSuq3312zzqceZpbgm4212zwdLqjthzi5112cLjlkjprcTi6012ashlxnWzro7902qlmnDjvmtt8802ilRkqkeyjx9702RfitpmnyMcz0702qtbozAjksg1602rxkRhihvhy2502hXhveauivYa3402njkulbCdge4302eaeyOiesux5202rfVqnhzlmw6102LjnmnfmzRsh7002nnvrjGfanl8991qplIktinki9891qXdsjpqsnOi0891pskhcdTkey1791txqyUwfzzb2691dzNmrbytnb3591WferwjyvNgg4491oudwfAizan5391hvlAcewgpu6291qSwihcdtfRt7191xzvsipRuqz8091zsotArkajz9981lnMfvcufve0981XecffewvVcd1881lzqgtFyjfd2781wcjQnsrseb3681qRolqlpotFk4581zigmjyZmny5481bsxpJpubpm6381zrPymxbsvi7281XpezpugrSff8181klbqwQwzwf9081iszQlejxtz0081rZlybqlwnMc1971ewhmjxBrzs2871hggtVweodb3771ujVhagccdi4671CovnvyyfGdb5571cwojxIsqsw6471aorCjdcjhr7371cZhhjyquoSf8271urtmtlSqds9171cnhlYggvay0171cqFvlaaajk1071DnsbnedyGwq2961rdusySbdto3861etbEauawci4761gZhbipnlcDo5661elezigZlae6561rsntRaqnpe7461wnQdvrtyum8361WiqpddygYdx9261qjhmiWjfax0261bopGftlczg1161zUtrxpsmpXc2061qbfpjwXfra3951cgddXbbtjd4851rrPtzyjcnx5751ZocfrcryVjp6651upvmvSzckx7551dzwWimyqwc8451cVsggskibNn9351jhfhckUbof0351aeexCzyxgp1251laFcaetqxl2151NxfhpicpNfm3051vbydcEqjtm4941ycmCczkpqc5841kMdcqiswzFx6741txnblcOmoy7641svsfXdbgbu8541lkWmaksqek9441ExiwpuwpPod0441sbhafGjfxc1341csxUulvtdv2241zUiefroptIu3141vqnnymHilv4041cgepPkdyye5931mmCbkgruqy6831XqrxsnzhOwe7731flnrpXwqur8631bskFukvcpq9531gTdljkjfdSh0531kschwcTfyy1431ewuqZvnbhg2331lnOixccnuh3231NduepcroTdn4131igvdnLukjn5031pbwLtndnoi6921lPcnhfzjhJq7821rwfrxaSape8721eizpNjzfxy9621lsYbnsdcai0621LtwwifviWlk1521igfysMnwer2421eepTxxkjzx3321oIpkrmhehJq4221zpfxpvPrpq5121cuxjNqcelx6021buVhdbhing7911YoklqkgsDat8811bfnskRxlxh9711uovDlckdrf0711bJjamsnoqWp1611xkshutKsdm2511hijtImlbpz3411oeVyeelcic4311PkjyooryPle5211dtkiwXmbmc6111tsrPkvbjpf7011oFmvmeumvFf8901yretbgMblo9801fyyhIvhjds0801loAivyvfjh1701OgislgyvEmb2601yxgitFtzaa3501zudSanamjr4401yQfiqsgzdGa5301mozxjpHhvj6201spvmDpipqe7101qdFmtamsfu8001EmedodnfOfu999mfpccTffom099mefUahofjg189zDpzgpsetWh279nbfnmoMcca369ratoTckfdw459pcXlhcewxb549HnhipkwvUcw639kvzouVewku729ftbYirqspn819dTjtorcjcWz909zqovszWnxt009svibZovfdu198ccNnegvhzc288IdrwlrmvJtd378mfpdzEsxxf468eoxSjpuiko558yKnvvasjvXt648kmdsasXzce738jmhqTrhvvv828blKwkocxhs918EsnslrqrWxk018fcmhjGeerc108vbjXeyhufn297dDsdjfqafMy387wpivptLaua477xkhyDxfgoa567atJnhxecqt657DybubcnoFxb747diyvaNxhek837gbaJkjwezc927nKfjdchkuRr027smeynsUgjl117geipMjcfvv207frBhjvnirq396RlonftktTge486gfkdgOtomq576lrjJqjrjxn666eRktggbawJs756indsffDwct846bkicKduknx936zjSknmjdrt036SutidgltIbq126knmddOngjx216jytAdstrfo306aDlknmewxWp495lkuffvRnic585agyvEzxnqu675epQcanmcxf765CikkqaafXtb855wesvyZpesx945cimRnezhmj045cTtsxjmrlCo135rwdgzzXort225ixukJdaipq315mtApjiguje405CcmeycnoHrx594yaigbZekgx684oqsXaxeoqg774cAiyqodjhNb864ltgpsmWtfi954uxikZamoti054rgAdmuroap144MakuwbyeJjk234ygsxcYwpyn324iozPvcjrqc414iRclsawhkRl504wlfbkkIyqy693newmWfhrgq783luDzdbcfpr873LajsekryHip963jsdrjHeasy063imlZszppws153jTsbrnbehNu243pajlnoGkbb333jxeuJspnws423qjIqvqmhsg513ApfhmgraPwl603dpbbhEdffk792onlVjdjfah882lXoqyydlhLg972drnkwsKnna072kzltGmjsty162auAbvqvczb252UtuqlkjeWye342kyipgUpuwu432yfmCrhbdxn522lMxprwybdIi612eakuxxEtgi702wmjzHlkbqm891rsElamrjvy981JrqelseuNhm081cbkirQqmmw171tzeXeckupr261ePngsuainOs351hizvpqKgzw441rgigCsnrln531liJgpacggf621PglwndfyLyo711ngvlzWbbry801zggPmnnypm99qUppypkzsEc09pwkxwvFdxr18bukfSmzrsh27meFzjuioas36YrrvrdqzZjd45sxmhnBunsa54ujkRstwdwo63tRbtqdusnUe72owoxmtCekc81zyxjRzoyhs9fpNrpuflek0Vi"
    print(homework_4(Str))
    